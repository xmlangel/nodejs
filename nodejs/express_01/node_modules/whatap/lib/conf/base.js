/**
 * Copyright 2016 the WHATAP project authors. All rights reserved.
 * Use of this source code is governed by a license that
 * can be found in the LICENSE file.
 */

var path = require('path');
// var appDir = path.dirname(require.main.filename);

var Configuration = {
	"whatap.home": '',
	"whatap.enabled": true,
	"license" : null,
	"counter_enabled": true,
	"stat_enabled": true,
	"active_stack_enabled": true,
	"trx_profile_enabled": true,
	"trx_profile_sql_enabled": true,
	"trx_profile_httpc_enabled": true,
	"prepared_sql_max": 5001,
	"debug_prepared_sql": false,
	"trace_service_name_header_key": null,
	"trace_service_name_key": null,
	"web_static_content_extensions": "js, htm, html, gif, png, jpg, css, txt",
	"trace_auto_service_enabled": false,
	"trace_auto_service_backstack_enabled": true,
	"trace_background_socket_enabled": true,
	"trace_active_callstack_depth": 40,
	"trace_activeserivce_yellow_time": 3000,
	"trace_activeservice_red_time": 8000,
	"trace_activeservice_hang_time": 6000,
	"trace_intertx_enabled": true,
	"_trace_intertx_caller_pcode_key": "x-wtap-pcode",
	"_trace_intertx_caller_oid_key": "x-wtap-oid",
	"_trace_intertx_caller_seq_key": "x-wtap-seq",
	"_trace_intertx_call_url_key": "x-wtap-url",
	"trace_httpc_normalize_urls": "",
	"log_ignore_set": null,
	"whatap.server.host": "127.0.0.1/127.0.0.1",
	"whatap.server.port": 6600,
	"tcp_connection_timeout": 3000,
	"tcp_so_timeout": 60000,
	"net_send_max_bytes": 5 * 1024 * 1024,
	"net_send_queue1_size": 512,
	"net_send_queue2_size": 1024,
	"hook_connection_open_patterns": "",
	"log_datasource_lookup_enabled": true,
	"throttle_enabled": false,
	"throttle_limit": 10000,
	"throttle_ignore": ",;",
	"throttle_reject_text": "too many request!!",
	"throttle_reject_url": "",
	"throttle_reject_url_ok": this.throttle_reject_url == "" ? false : true,
	"profile_http_querystring_enabled": false,
	"profile_http_header_enabled": false,
	"profile_http_parameter_enabled": false,
	"profile_http_parameter_url_prefix": "/",
	"profile_http_header_url_prefix": "/",
	"profile_connection_open_enabled": true,
	"hook_method_patterns": "",
	"hook_method_access_public_enabled": true,
	"hook_method_access_protected_enabled": true,
	"hook_method_access_private_enabled": false,
	"hook_method_access_none_enabled": true,
	"hook_method_ignore_prefixes": "get,set",
	"hook_method_ignore_classes": "",
	"profile_method_enabled": true,
	"hook_service_patterns": "",
	"hook_httpc_patterns": "",
	"hook_httpc_info_patterns": "",
	"hook_jdbc_pstmt_classes": "",
	"hook_jdbc_stmt_classes": "",
	"hook_jdbc_rs_classes": "",
	"hook_jdbc_wrapping_driver_patterns": "",
	"hook_context_classes": "javax/naming/InitialContext",
	"hook_jsp_patterns": "",
	"hook_trace_helper_start_patterns": "",
	"hook_trace_helper_end_patterns": "",
	"hook_dyna_ignore_count": 100,
	"profile_step_max_count": 1024,
	"profile_fullstack_max_lines": 0,
	"profile_basetime": 1000,
	"trace_http_client_ip_header_key": "",
	"trace_user_enabled": true,
	"trace_user_using_ip": false,
	"trace_user_using_jsession": false,
	"user_header_ticket": "",
	"user_header_ticket_enabled": this.user_header_ticket == "" ? false: true,
	"trace_user_cookie_limit": 2048,
	"profile_error_jdbc_fetch_max": 10000,
	"profile_error_sql_time_max": 30000,
	"hook_direct_patch_classes": "",
	"_hook_serivce_enabled": true,
	"_hook_dbsql_enabled": true,
	"_hook_dbconn_enabled": true,
	"_hook_methods_enabled": true,
	"_hook_socket_enabled": true,
	"_hook_usertx_enabled": true,
	"log_rotation_enabled": true,
	"log_keep_days": 7,
	"thread_dump_enabled": false,
	"debug_cpu_enabled": false,
	"active_stack_always_do": false,
	"active_stack_callstack_interval_sec": 10,
	"realtime_interval_ms": 5000,
	"cipher_net_enabled": true,
	"cipher_level": 2,
	'cypher_level': 128,
	"boot_redefine_size": 100,
		// setStaticContents();
	"counter_netstat_enabled": false,
	"counter_procfd_enabled": false,
	"counter_interval": 5000,
	"CONFIG_INITED": true,
	"_profile_position_httpc_hash": 0,
	"profile_position_httpc": "",
	"_profile_position_sql_hash": 0,
	"profile_position_sql": "",
	"_profile_position_method_hash": 0,
	"profile_position_method": "",
	"profile_position_depth": 50,
    'log_pack_data' : false
};

Configuration._hook_method_ignore_prefix = Configuration.hook_method_ignore_prefixes.split(',');
Configuration._hook_method_ignore_prefix_len = Configuration._hook_method_ignore_prefix == null ? 0 : Configuration._hook_method_ignore_prefix.length;

Configuration.hook_method_ignore_classes = Configuration.hook_method_ignore_classes;
Configuration._hook_method_ignore_classes = Configuration.hook_method_ignore_classes.replace('.', '/').split(',');

module.exports = Configuration;