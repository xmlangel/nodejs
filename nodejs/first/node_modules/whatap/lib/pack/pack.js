/**
 * Copyright 2016 the WHATAP project authors. All rights reserved.
 * Use of this source code is governed by a license that
 * can be found in the LICENSE file.
 */

var Long = require('long');
var DateUtil = require('./../util/dateutil');

function Pack() {
    this.pcode = 0; /*long*/
    this.oid = 0; /*int*/
    this.time = Long.fromNumber(DateUtil.currentTime()); /*long*/
};

Pack.prototype.toString = function() {
    return 'pcode=' + this.pcode + ', oid=' + this.oid + ', time=' + new Date(this.time);
};
Pack.prototype.getPackType = function() {
    return 0;
};
Pack.prototype.write = function(dout) {
    dout.writeDecimal(this.pcode);
    dout.writeInt32BE(this.oid);
    dout.writeLong(this.time);
};
Pack.prototype.read = function(din) {
    this.pcode = din.readDecimal();
    this.oid = din.readInt();
    this.time = din.readLong();
};

module.exports = Pack;